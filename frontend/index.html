<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>KosPrice v1.0</title>
</head>
<body>
  <h1>Prediksi Harga Kos</h1>
  
  <form id="predict-form">
    <label>Luas (m2):</label>
    <input type="number" id="luas" step="0.1" required><br><br>

    <label>Jumlah Kamar:</label>
    <input type="number" id="kamar" required><br><br>

    <label>Jarak Kampus (km):</label>
    <input type="number" id="jarak" step="0.1" required><br><br>

    <button type="submit">Prediksi</button>
  </form>

  <h2 id="hasil"></h2>

  <script>
    const form = document.getElementById("predict-form");
    form.addEventListener("submit", async (e) => {
      e.preventDefault();

      const data = {
        luas_m2: parseFloat(document.getElementById("luas").value),
        jumlah_kamar: parseInt(document.getElementById("kamar").value),
        jarak_kampus_km: parseFloat(document.getElementById("jarak").value)
      };

      try {
        const res = await fetch("http://127.0.0.1:8000/predict", {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify(data)
        });

        const result = await res.json();
        document.getElementById("hasil").innerText = "Prediksi harga: " + result.prediksi_harga;
      } catch (err) {
        document.getElementById("hasil").innerText = "Error: " + err;
      }
    });
  </script>
</body>
</html>
